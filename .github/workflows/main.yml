on: release
name: Build Release
jobs:
  azure-connector:
    name: azure blob utility
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: compile and release i386
      uses: abhishekjog/go-release-executable@v4
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        GOARCH: "386"
        GOOS: linux
        SUBDIR: "bnr-utils/nz_azConnector"
        EXECUTABLE_NAME: "nz_azConnector"
    - name: compile and release x86
      uses: abhishekjog/go-release-executable@v4
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        GOARCH: amd64
        GOOS: linux
        SUBDIR: "bnr-utils/nz_azConnector"
        EXECUTABLE_NAME: "nz_azConnector"
  s3-connector:
    name: aws s3 utility
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: compile and release i386
      uses: abhishekjog/go-release-executable@v4
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        GOARCH: "386"
        GOOS: linux
        SUBDIR: "bnr-utils/nz_s3Connector"
        EXECUTABLE_NAME: "nz_s3Connector"
    - name: compile and release x86
      uses: abhishekjog/go-release-executable@v4
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        GOARCH: amd64
        GOOS: linux
        SUBDIR: "bnr-utils/nz_s3Connector"
        EXECUTABLE_NAME: "nz_s3Connector"
